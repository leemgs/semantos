server {
    listen 8080;
    server_name _;

    # SPA 정적 서빙
    location / {
        root /usr/share/nginx/html;
        try_files $uri /index.html;
    }

    # gRPC-Web → gRPC 백엔드 변환 프록시 (예시)
    # 필요에 맞게 대상 서비스/포트 수정
    location /grpc/ {
        grpc_pass grpc://reasoner:50053;   # 내부 gRPC 서비스 주소/포트
        grpc_read_timeout 300s;
        grpc_send_timeout 300s;

        # grpc-web 변환
        grpc_web on;
    }
}

